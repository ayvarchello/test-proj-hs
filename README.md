# hw-spreadsheet

|  Выдано  |     Дедлайн     |
|:--------:|:---------------:|
| 18.03.23 | 23:59, 01.04.23 |

Последнее домашнее задание по курсу; создано, чтобы выполняющие его

* попрактиковались с монадой Free и комбинацией DSL;
* подвели итог полученным на курсе знаниям.

## Описание проекта

В данном домашнем задании мы будем писать MVP-клон Excel. Основные функции:

* добавление строк / столбцов;
* ввод формул;
* вычисление формул.

## Описание программы

Программа работает в стиле REPL: на вход подаются команды, их нужно исполнять. С
точки зрения пользователя в памяти поддерживается двумерная таблица вместе с
позицией курсора в таблице. Доступны следующие действия:

* Сдвинуть курсор вверх, влево, вниз или вправо. Если при движении вниз (вправо)
курсор выйдет за границу таблицы, новая строчка (столбец) дописывается в таблицу
автоматически.
* Вписать в клетку формулу, записанную в выбранном при запуске языке: язык
кольца (сложение, вычитание, умножение) или язык поля (то же, что и раньше, но с
делением).

После выполнения команды на поток вывода выводится текущая позиция курсора,
текущая формула в клетке и таблица значений, вычисленная по формулам. В ходе
вычислений формул могут возникнуть следующие ошибки:

* формула ссылается на пустую клетку;
* формула циклически ссылается на саму себя (в этом случае будет превышена
глубина формулы);
* при вычислении произошло деление на 0.

Формат ввода-вывода произвольный, для ввода можно использовать готовые
реализации класса `Read`.

## Шортлист команд

* `cabal build` &mdash; сборка проекта;
* `cabal run hw-spreadsheet -- MNum 500` &mdash; запуск программы с языком
`MNum` и ограничением глубины формул 500;
* `cabal haddock` &mdash; генерация документации по коду в `src/`.

## Чеклист

Сделанные задачи можно помечать с помощью крестика: `- [x]`

- [ ] Вписать себя автором и мейнтейнером в `hw-spreadsheet.cabal` (0 баллов)
- [ ] Реализовать `ffix` в `src/Data/Functor/Fix.hs` (1.5 балла)
- [ ] Сделать `Spreadsheet a` представителем класса `Show` в
  `src/Data/Spreadsheet.hs` (1 балл)
- [ ] Написать вспомогательные функции для манипуляции таблицами (1 балл)
- [ ] Научиться вычислять таблицу значений по таблице формул (1.5 балла)
- [ ] Техническая функция в `src/Data/Direction.hs` (0.5 балла)
- [ ] Интерфейс курсора в `src/Handle/Position.hs` (0.5 балла)
- [ ] Интерфейс таблицы в `src/Handle/Spreadsheet.hs` (1 балл)
- [ ] Интерфейс связки курсор+таблица в `src/Handle/Focused.hs` (1 балл)
- [ ] Интерфейс приложения в `src/Handle/App.hs` (0.5 балла)
- [ ] Вспомогательная функция для комбинации интерпретаторов в
  `src/Interpreters.hs` (0.5 балла)
- [ ] Интерпретаторы диалектов (0.5 балла)
- [ ] Комбинация интерпретаторов (1 балл)
- [ ] Обработка команд в `app/Command.hs` (0.5 балла)
- [ ] Реализация REPL в `app/Main.hs` (0.5 балла)
- [ ] Запуск REPL (0.5 балла)
